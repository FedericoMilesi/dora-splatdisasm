.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel LoadNewsPaperTexture
/* 159B8 800251B8 C0FFBD27 */  addiu      $sp, $sp, -0x40
/* 159BC 800251BC 2000B2AF */  sw         $s2, 0x20($sp)
/* 159C0 800251C0 21900000 */  addu       $s2, $zero, $zero
/* 159C4 800251C4 1800B0AF */  sw         $s0, 0x18($sp)
/* 159C8 800251C8 21808000 */  addu       $s0, $a0, $zero
/* 159CC 800251CC 3400B7AF */  sw         $s7, 0x34($sp)
/* 159D0 800251D0 21B8A000 */  addu       $s7, $a1, $zero
/* 159D4 800251D4 3C00BFAF */  sw         $ra, 0x3C($sp)
/* 159D8 800251D8 3800BEAF */  sw         $fp, 0x38($sp)
/* 159DC 800251DC 3000B6AF */  sw         $s6, 0x30($sp)
/* 159E0 800251E0 2C00B5AF */  sw         $s5, 0x2C($sp)
/* 159E4 800251E4 2800B4AF */  sw         $s4, 0x28($sp)
/* 159E8 800251E8 2400B3AF */  sw         $s3, 0x24($sp)
/* 159EC 800251EC 1C00B1AF */  sw         $s1, 0x1C($sp)
/* 159F0 800251F0 B35C010C */  jal        GetSizeOfFile
/* 159F4 800251F4 4800A6AF */   sw        $a2, 0x48($sp)
/* 159F8 800251F8 2B3F010C */  jal        new_malloc
/* 159FC 800251FC 21204000 */   addu      $a0, $v0, $zero
/* 15A00 80025200 21A84000 */  addu       $s5, $v0, $zero
/* 15A04 80025204 5900A012 */  beqz       $s5, .L8002536C
/* 15A08 80025208 21200002 */   addu      $a0, $s0, $zero
/* 15A0C 8002520C 495C010C */  jal        LoadFile
/* 15A10 80025210 2128A002 */   addu      $a1, $s5, $zero
/* 15A14 80025214 21980000 */  addu       $s3, $zero, $zero
/* 15A18 80025218 00801E24 */  addiu      $fp, $zero, -0x8000
/* 15A1C 8002521C 82101200 */  srl        $v0, $s2, 2
.L80025220:
/* 15A20 80025220 80100200 */  sll        $v0, $v0, 2
/* 15A24 80025224 2180A202 */  addu       $s0, $s5, $v0
/* 15A28 80025228 000000A2 */  sb         $zero, 0x0($s0)
/* 15A2C 8002522C 0E5F010C */  jal        TextureToVRAM
/* 15A30 80025230 21200002 */   addu      $a0, $s0, $zero
/* 15A34 80025234 21884000 */  addu       $s1, $v0, $zero
/* 15A38 80025238 08000326 */  addiu      $v1, $s0, 0x8
/* 15A3C 8002523C 08005226 */  addiu      $s2, $s2, 0x8
/* 15A40 80025240 40A01300 */  sll        $s4, $s3, 1
/* 15A44 80025244 01007626 */  addiu      $s6, $s3, 0x1
/* 15A48 80025248 FF000424 */  addiu      $a0, $zero, 0xFF
.L8002524C:
/* 15A4C 8002524C 00006294 */  lhu        $v0, 0x0($v1)
/* 15A50 80025250 FFFF8424 */  addiu      $a0, $a0, -0x1
/* 15A54 80025254 25105E00 */  or         $v0, $v0, $fp
/* 15A58 80025258 000062A4 */  sh         $v0, 0x0($v1)
/* 15A5C 8002525C FBFF8104 */  bgez       $a0, .L8002524C
/* 15A60 80025260 02006324 */   addiu     $v1, $v1, 0x2
/* 15A64 80025264 08000326 */  addiu      $v1, $s0, 0x8
/* 15A68 80025268 007C0624 */  addiu      $a2, $zero, 0x7C00
/* 15A6C 8002526C 00FC0534 */  ori        $a1, $zero, 0xFC00
/* 15A70 80025270 FF000424 */  addiu      $a0, $zero, 0xFF
.L80025274:
/* 15A74 80025274 00006294 */  lhu        $v0, 0x0($v1)
/* 15A78 80025278 00000000 */  nop
/* 15A7C 8002527C 02004014 */  bnez       $v0, .L80025288
/* 15A80 80025280 00000000 */   nop
/* 15A84 80025284 01000224 */  addiu      $v0, $zero, 0x1
.L80025288:
/* 15A88 80025288 03004610 */  beq        $v0, $a2, .L80025298
/* 15A8C 8002528C 00000000 */   nop
/* 15A90 80025290 02004514 */  bne        $v0, $a1, .L8002529C
/* 15A94 80025294 00000000 */   nop
.L80025298:
/* 15A98 80025298 21100000 */  addu       $v0, $zero, $zero
.L8002529C:
/* 15A9C 8002529C 000062A4 */  sh         $v0, 0x0($v1)
/* 15AA0 800252A0 FFFF8424 */  addiu      $a0, $a0, -0x1
/* 15AA4 800252A4 F3FF8104 */  bgez       $a0, .L80025274
/* 15AA8 800252A8 02006324 */   addiu     $v1, $v1, 0x2
/* 15AAC 800252AC F75E010C */  jal        PaletteToVRAM
/* 15AB0 800252B0 21200002 */   addu      $a0, $s0, $zero
/* 15AB4 800252B4 00025226 */  addiu      $s2, $s2, 0x200
/* 15AB8 800252B8 00000392 */  lbu        $v1, 0x0($s0)
/* 15ABC 800252BC 00000000 */  nop
/* 15AC0 800252C0 05006014 */  bnez       $v1, .L800252D8
/* 15AC4 800252C4 21204000 */   addu      $a0, $v0, $zero
/* 15AC8 800252C8 04000296 */  lhu        $v0, 0x4($s0)
/* 15ACC 800252CC 06000396 */  lhu        $v1, 0x6($s0)
/* 15AD0 800252D0 B8940008 */  j          .L800252E0
/* 15AD4 800252D4 42100200 */   srl       $v0, $v0, 1
.L800252D8:
/* 15AD8 800252D8 04000296 */  lhu        $v0, 0x4($s0)
/* 15ADC 800252DC 06000396 */  lhu        $v1, 0x6($s0)
.L800252E0:
/* 15AE0 800252E0 00000000 */  nop
/* 15AE4 800252E4 18004300 */  mult       $v0, $v1
/* 15AE8 800252E8 12100000 */  mflo       $v0
/* 15AEC 800252EC 981391AF */  sw         $s1, %gp_rel(newspapervramindex)($gp)
/* 15AF0 800252F0 941384AF */  sw         $a0, %gp_rel(newspaperclutid)($gp)
/* 15AF4 800252F4 03006016 */  bnez       $s3, .L80025304
/* 15AF8 800252F8 21904202 */   addu      $s2, $s2, $v0
/* 15AFC 800252FC C2940008 */  j          .L80025308
/* 15B00 80025300 0000F1AE */   sw        $s1, 0x0($s7)
.L80025304:
/* 15B04 80025304 0400F1AE */  sw         $s1, 0x4($s7)
.L80025308:
/* 15B08 80025308 09000624 */  addiu      $a2, $zero, 0x9
/* 15B0C 8002530C 2C000524 */  addiu      $a1, $zero, 0x2C
/* 15B10 80025310 0980033C */  lui        $v1, %hi(NewsPaperRGBSprite)
/* 15B14 80025314 4800A28F */  lw         $v0, 0x48($sp)
/* 15B18 80025318 20696324 */  addiu      $v1, $v1, %lo(NewsPaperRGBSprite)
/* 15B1C 8002531C 000044AC */  sw         $a0, 0x0($v0)
/* 15B20 80025320 80000424 */  addiu      $a0, $zero, 0x80
/* 15B24 80025324 21109302 */  addu       $v0, $s4, $s3
/* 15B28 80025328 C0100200 */  sll        $v0, $v0, 3
/* 15B2C 8002532C 23105300 */  subu       $v0, $v0, $s3
/* 15B30 80025330 80100200 */  sll        $v0, $v0, 2
/* 15B34 80025334 21106200 */  addu       $v0, $v1, $v0
/* 15B38 80025338 01000324 */  addiu      $v1, $zero, 0x1
.L8002533C:
/* 15B3C 8002533C 030046A0 */  sb         $a2, 0x3($v0)
/* 15B40 80025340 070045A0 */  sb         $a1, 0x7($v0)
/* 15B44 80025344 040044A0 */  sb         $a0, 0x4($v0)
/* 15B48 80025348 050044A0 */  sb         $a0, 0x5($v0)
/* 15B4C 8002534C 060044A0 */  sb         $a0, 0x6($v0)
/* 15B50 80025350 FFFF6324 */  addiu      $v1, $v1, -0x1
/* 15B54 80025354 F9FF6104 */  bgez       $v1, .L8002533C
/* 15B58 80025358 28004224 */   addiu     $v0, $v0, 0x28
/* 15B5C 8002535C 2198C002 */  addu       $s3, $s6, $zero
/* 15B60 80025360 0200622A */  slti       $v0, $s3, 0x2
/* 15B64 80025364 AEFF4014 */  bnez       $v0, .L80025220
/* 15B68 80025368 82101200 */   srl       $v0, $s2, 2
.L8002536C:
/* 15B6C 8002536C 1C40010C */  jal        new_free
/* 15B70 80025370 2120A002 */   addu      $a0, $s5, $zero
/* 15B74 80025374 3C00BF8F */  lw         $ra, 0x3C($sp)
/* 15B78 80025378 3800BE8F */  lw         $fp, 0x38($sp)
/* 15B7C 8002537C 3400B78F */  lw         $s7, 0x34($sp)
/* 15B80 80025380 3000B68F */  lw         $s6, 0x30($sp)
/* 15B84 80025384 2C00B58F */  lw         $s5, 0x2C($sp)
/* 15B88 80025388 2800B48F */  lw         $s4, 0x28($sp)
/* 15B8C 8002538C 2400B38F */  lw         $s3, 0x24($sp)
/* 15B90 80025390 2000B28F */  lw         $s2, 0x20($sp)
/* 15B94 80025394 1C00B18F */  lw         $s1, 0x1C($sp)
/* 15B98 80025398 1800B08F */  lw         $s0, 0x18($sp)
/* 15B9C 8002539C 0800E003 */  jr         $ra
/* 15BA0 800253A0 4000BD27 */   addiu     $sp, $sp, 0x40
.size LoadNewsPaperTexture, . - LoadNewsPaperTexture
