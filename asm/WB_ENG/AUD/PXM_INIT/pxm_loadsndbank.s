.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel pxm_loadsndbank
/* 44898 80054098 C8FFBD27 */  addiu      $sp, $sp, -0x38
/* 4489C 8005409C 2400B3AF */  sw         $s3, 0x24($sp)
/* 448A0 800540A0 21980000 */  addu       $s3, $zero, $zero
/* 448A4 800540A4 2800B4AF */  sw         $s4, 0x28($sp)
/* 448A8 800540A8 21A08000 */  addu       $s4, $a0, $zero
/* 448AC 800540AC 2C00B5AF */  sw         $s5, 0x2C($sp)
/* 448B0 800540B0 21A8A000 */  addu       $s5, $a1, $zero
/* 448B4 800540B4 40100600 */  sll        $v0, $a2, 1
/* 448B8 800540B8 21104600 */  addu       $v0, $v0, $a2
/* 448BC 800540BC 80100200 */  sll        $v0, $v0, 2
/* 448C0 800540C0 23104600 */  subu       $v0, $v0, $a2
/* 448C4 800540C4 80100200 */  sll        $v0, $v0, 2
/* 448C8 800540C8 0B80033C */  lui        $v1, %hi(pxm_sndfiles)
/* 448CC 800540CC E0866324 */  addiu      $v1, $v1, %lo(pxm_sndfiles)
/* 448D0 800540D0 1C00B1AF */  sw         $s1, 0x1C($sp)
/* 448D4 800540D4 21884300 */  addu       $s1, $v0, $v1
/* 448D8 800540D8 2000B2AF */  sw         $s2, 0x20($sp)
/* 448DC 800540DC 1000B227 */  addiu      $s2, $sp, 0x10
/* 448E0 800540E0 3000BFAF */  sw         $ra, 0x30($sp)
/* 448E4 800540E4 B35C010C */  jal        GetSizeOfFile
/* 448E8 800540E8 1800B0AF */   sw        $s0, 0x18($sp)
/* 448EC 800540EC 21804000 */  addu       $s0, $v0, $zero
/* 448F0 800540F0 08000012 */  beqz       $s0, .L80054114
/* 448F4 800540F4 00000000 */   nop
/* 448F8 800540F8 2B3F010C */  jal        new_malloc
/* 448FC 800540FC 21200002 */   addu      $a0, $s0, $zero
/* 44900 80054100 21984000 */  addu       $s3, $v0, $zero
/* 44904 80054104 03006012 */  beqz       $s3, .L80054114
/* 44908 80054108 21208002 */   addu      $a0, $s4, $zero
/* 4490C 8005410C 495C010C */  jal        LoadFile
/* 44910 80054110 21286002 */   addu      $a1, $s3, $zero
.L80054114:
/* 44914 80054114 02004012 */  beqz       $s2, .L80054120
/* 44918 80054118 00000000 */   nop
/* 4491C 8005411C 000050AE */  sw         $s0, 0x0($s2)
.L80054120:
/* 44920 80054120 AF05020C */  jal        SpuSetTransferMode
/* 44924 80054124 01000424 */   addiu     $a0, $zero, 0x1
/* 44928 80054128 1000A48F */  lw         $a0, 0x10($sp)
/* 4492C 8005412C EB02020C */  jal        SpuMalloc
/* 44930 80054130 00000000 */   nop
/* 44934 80054134 21184000 */  addu       $v1, $v0, $zero
/* 44938 80054138 FFFF0224 */  addiu      $v0, $zero, -0x1
/* 4493C 8005413C 02006210 */  beq        $v1, $v0, .L80054148
/* 44940 80054140 21800000 */   addu      $s0, $zero, $zero
/* 44944 80054144 000023AE */  sw         $v1, 0x0($s1)
.L80054148:
/* 44948 80054148 0980023C */  lui        $v0, %hi(pxm_spumem_free)
/* 4494C 8005414C 2C52428C */  lw         $v0, %lo(pxm_spumem_free)($v0)
/* 44950 80054150 1000A38F */  lw         $v1, 0x10($sp)
/* 44954 80054154 0000248E */  lw         $a0, 0x0($s1)
/* 44958 80054158 23104300 */  subu       $v0, $v0, $v1
/* 4495C 8005415C 0980013C */  lui        $at, %hi(pxm_spumem_free)
/* 44960 80054160 2C5222AC */  sw         $v0, %lo(pxm_spumem_free)($at)
/* 44964 80054164 9705020C */  jal        SpuSetTransferStartAddr
/* 44968 80054168 040023AE */   sw        $v1, 0x4($s1)
/* 4496C 8005416C 1000A58F */  lw         $a1, 0x10($sp)
/* 44970 80054170 7F05020C */  jal        SpuWrite
/* 44974 80054174 21206002 */   addu      $a0, $s3, $zero
/* 44978 80054178 1C40010C */  jal        new_free
/* 4497C 8005417C 21206002 */   addu      $a0, $s3, $zero
/* 44980 80054180 B35C010C */  jal        GetSizeOfFile
/* 44984 80054184 2120A002 */   addu      $a0, $s5, $zero
/* 44988 80054188 08004010 */  beqz       $v0, .L800541AC
/* 4498C 8005418C 00000000 */   nop
/* 44990 80054190 2B3F010C */  jal        new_malloc
/* 44994 80054194 21204000 */   addu      $a0, $v0, $zero
/* 44998 80054198 21804000 */  addu       $s0, $v0, $zero
/* 4499C 8005419C 03000012 */  beqz       $s0, .L800541AC
/* 449A0 800541A0 2120A002 */   addu      $a0, $s5, $zero
/* 449A4 800541A4 495C010C */  jal        LoadFile
/* 449A8 800541A8 21280002 */   addu      $a1, $s0, $zero
.L800541AC:
/* 449AC 800541AC 180030AE */  sw         $s0, 0x18($s1)
/* 449B0 800541B0 0000028E */  lw         $v0, 0x0($s0)
/* 449B4 800541B4 3000BF8F */  lw         $ra, 0x30($sp)
/* 449B8 800541B8 2C00B58F */  lw         $s5, 0x2C($sp)
/* 449BC 800541BC 2800B48F */  lw         $s4, 0x28($sp)
/* 449C0 800541C0 2400B38F */  lw         $s3, 0x24($sp)
/* 449C4 800541C4 2000B28F */  lw         $s2, 0x20($sp)
/* 449C8 800541C8 C0180200 */  sll        $v1, $v0, 3
/* 449CC 800541CC 10006324 */  addiu      $v1, $v1, 0x10
/* 449D0 800541D0 080022AE */  sw         $v0, 0x8($s1)
/* 449D4 800541D4 0400048E */  lw         $a0, 0x4($s0)
/* 449D8 800541D8 21380302 */  addu       $a3, $s0, $v1
/* 449DC 800541DC 40100400 */  sll        $v0, $a0, 1
/* 449E0 800541E0 21104400 */  addu       $v0, $v0, $a0
/* 449E4 800541E4 80100200 */  sll        $v0, $v0, 2
/* 449E8 800541E8 21186200 */  addu       $v1, $v1, $v0
/* 449EC 800541EC 0C0024AE */  sw         $a0, 0xC($s1)
/* 449F0 800541F0 0800058E */  lw         $a1, 0x8($s0)
/* 449F4 800541F4 21300302 */  addu       $a2, $s0, $v1
/* 449F8 800541F8 80100500 */  sll        $v0, $a1, 2
/* 449FC 800541FC 21186200 */  addu       $v1, $v1, $v0
/* 44A00 80054200 10000226 */  addiu      $v0, $s0, 0x10
/* 44A04 80054204 21180302 */  addu       $v1, $s0, $v1
/* 44A08 80054208 100025AE */  sw         $a1, 0x10($s1)
/* 44A0C 8005420C 0C00048E */  lw         $a0, 0xC($s0)
/* 44A10 80054210 1800B08F */  lw         $s0, 0x18($sp)
/* 44A14 80054214 200022AE */  sw         $v0, 0x20($s1)
/* 44A18 80054218 240027AE */  sw         $a3, 0x24($s1)
/* 44A1C 8005421C 280026AE */  sw         $a2, 0x28($s1)
/* 44A20 80054220 1C0023AE */  sw         $v1, 0x1C($s1)
/* 44A24 80054224 140024AE */  sw         $a0, 0x14($s1)
/* 44A28 80054228 1C00B18F */  lw         $s1, 0x1C($sp)
/* 44A2C 8005422C 0800E003 */  jr         $ra
/* 44A30 80054230 3800BD27 */   addiu     $sp, $sp, 0x38
.size pxm_loadsndbank, . - pxm_loadsndbank
